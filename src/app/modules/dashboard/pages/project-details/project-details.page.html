<ion-header class="ion-no-border" mode="md">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard-menu-tabs/projects" color="primary"></ion-back-button>
    </ion-buttons>

    <ion-title>Proyecto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="light">
  <ion-card class="basic-card mt-3" style="margin-bottom: 4rem;">
    <div style="padding-left: 16px;padding-right: 16px;padding-top: 13px;">
      <div class="report-detail-title">
        <div>
          <h3>{{projectData.task}}</h3>
          <p style="margin-top: 5px">{{projectData.description}}</p>
        </div>
        <mat-icon style="font-size: 1.5rem;height: 1.5rem; width: 1.5rem; font-weight: 300; color: black;">more_vert</mat-icon>
      </div>

      <div class="report-detail-list-item main-item">
        <p>Administrador</p>
        <p>Adrian Salvador</p>
      </div>

      <div class="report-detail-list-item">
        <p>Fecha de creación</p>
        <p>{{projectData?.createdDate?.toDate() | date: 'dd/MM/yyyy'}}</p>
      </div>
      <hr style="margin-top: 1rem; margin-bottom: 1rem;" class="basic-hr"/>
    </div>


    <div>
      <mat-tab-group mat-align-tabs="center">
        <mat-tab label="ToDo">
          <div class="report-chips-container">
            <p>Ordenar por:</p>
            <mat-chip-list #chipList aria-label="Fruit selection">
              <mat-chip *ngFor="let fruit of fruits" [selectable]="selectable"
                        [removable]="removable" (removed)="remove(fruit)">
                {{fruit.name}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>

            </mat-chip-list>
          </div>
          <div class="report-detail-container" style="padding-bottom: 0;" *ngFor="let todo of todoArray" (click)="todoDetail(todo)">
            <div class="report-expense-container w-100">
              <div class="detail">
                <div style="width: 100% !important;">
                  <div class="display-center" style="margin-top: 0; align-items: flex-start !important; justify-content: flex-start !important;">
                    <ion-icon mode="md" name="chevron-forward-outline" class="cursor-pointer" style="font-size: 1.1rem; height: 1.1rem; width: 1.1rem; color: #506ac5; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                    <div class="w-100">
                      <h3 class="mt-0 mb-2" style="font-size: 14px; line-height: normal;">{{todo.title}}</h3>

                      <div style="display: flex; justify-content: space-between;">
                        <p class="mt-1 task-label display-center">
                          <span>Task-{{todo.taskNumber}}</span>
                          <ion-icon mode="md" [ngClass]="setPriorityColor(todo.priority)" name="arrow-up-outline" class="cursor-pointer ml-2" style="font-size: 1.1rem; margin-bottom: 1px; height: 1rem; width: 1rem; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                        </p>
                        <div class="progress-user-container">
                          <ion-avatar class="menu-img">
                            <ion-img src="/assets/img/user.png"></ion-img>
                          </ion-avatar>

                          <div>
                            <p class="mb-0">{{setProgressLabel(todo.progress)}}</p>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="report-detail-container" *ngIf="todoArray.length === 0">
            <div class="report-expense-container w-100">
              <p class="mb-0 text-muted" style="text-align: center;">Aún no tienes tareas por hacer</p>
            </div>
          </div>
        </mat-tab>

        <mat-tab label="WIP">
          <div class="report-chips-container">
            <p>Ordenar por:</p>
            <mat-chip-list #chipList aria-label="Fruit selection">
              <mat-chip *ngFor="let fruit of fruits" [selectable]="selectable"
                        [removable]="removable" (removed)="remove(fruit)">
                {{fruit.name}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>

            </mat-chip-list>
          </div>
          <div class="report-detail-container" style="padding-bottom: 0;" *ngFor="let todo of wipArray" (click)="todoDetail(todo)">
            <div class="report-expense-container w-100">
              <div class="detail">
                <div style="width: 100% !important;">
                  <div class="display-center" style="margin-top: 0; align-items: flex-start !important; justify-content: flex-start !important;">
                    <ion-icon mode="md" name="chevron-forward-outline" class="cursor-pointer" style="font-size: 1.1rem; height: 1.1rem; width: 1.1rem; color: #506ac5; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                    <div class="w-100">
                      <h3 class="mt-0 mb-2" style="font-size: 14px; line-height: normal;">{{todo.title}}</h3>

                      <div style="display: flex; justify-content: space-between;">
                        <p class="mt-1 task-label display-center">
                          <span>Task-{{todo.taskNumber}}</span>
                          <ion-icon mode="md" [ngClass]="setPriorityColor(todo.priority)" name="arrow-up-outline" class="cursor-pointer ml-2" style="font-size: 1.1rem; margin-bottom: 1px; height: 1rem; width: 1rem; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                        </p>
                        <div class="progress-user-container">
                          <ion-avatar class="menu-img">
                            <ion-img src="/assets/img/user.png"></ion-img>
                          </ion-avatar>

                          <div>
                            <p class="mb-0">{{setProgressLabel(todo.progress)}}</p>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="report-detail-container" *ngIf="wipArray.length === 0">
            <div class="report-expense-container w-100">
              <p class="mb-0 text-muted" style="text-align: center;">Aún no tienes tareas en progreso</p>
            </div>
          </div>
        </mat-tab>









        <mat-tab label="Complete">
          <div class="report-chips-container">
            <p>Ordenar por:</p>
            <mat-chip-list #chipList aria-label="Fruit selection">
              <mat-chip *ngFor="let fruit of fruits" [selectable]="selectable"
                        [removable]="removable" (removed)="remove(fruit)">
                {{fruit.name}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>

            </mat-chip-list>
          </div>
          <div class="report-detail-container" style="padding-bottom: 0;" *ngFor="let todo of completeArray" (click)="todoDetail(todo)">
            <div class="report-expense-container w-100">
              <div class="detail">
                <div style="width: 100% !important;">
                  <div class="display-center" style="margin-top: 0; align-items: flex-start !important; justify-content: flex-start !important;">
                    <ion-icon mode="md" name="chevron-forward-outline" class="cursor-pointer" style="font-size: 1.1rem; height: 1.1rem; width: 1.1rem; color: #506ac5; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                    <div class="w-100">
                      <h3 class="mt-0 mb-2" style="font-size: 14px; line-height: normal;">{{todo.title}}</h3>

                      <div style="display: flex; justify-content: space-between;">
                        <p class="mt-1 task-label display-center">
                          <span>Task-{{todo.taskNumber}}</span>
                          <ion-icon mode="md" [ngClass]="setPriorityColor(todo.priority)" name="arrow-up-outline" class="cursor-pointer ml-2" style="font-size: 1.1rem; margin-bottom: 1px; height: 1rem; width: 1rem; margin-right: 0.4rem; font-weight: 500;"></ion-icon>
                        </p>
                        <div class="progress-user-container">
                          <ion-avatar class="menu-img">
                            <ion-img src="/assets/img/user.png"></ion-img>
                          </ion-avatar>

                          <div>
                            <p class="mb-0">{{setProgressLabel(todo.progress)}}</p>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="report-detail-container" *ngIf="completeArray.length === 0">
            <div class="report-expense-container w-100">
              <p class="mb-0 text-muted" style="text-align: center;">Aún no tienes tareas completadas</p>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>

  </ion-card>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed" style="margin-bottom: 3.5rem; !important;">
    <ion-fab-button routerLink="/dashboard-menu-tabs/new-task" routerDirection="forward">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
